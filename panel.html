<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… - Ø¥Ø¯Ø§Ø±Ø© Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¨ÙˆØª</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .modal {
            backdrop-filter: blur(5px);
        }
        .login-container {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .file-preview {
            max-height: 200px;
            object-fit: contain;
        }
        .upload-area {
            border: 2px dashed #d1d5db;
            transition: all 0.3s ease;
        }
        .upload-area.dragover {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        .progress-bar {
            transition: width 0.3s ease;
        }
        .service-btn.active {
            background-color: #dbeafe;
            color: #1e40af;
            border-color: #3b82f6;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-full">
    <!-- Login Screen -->
    <div id="loginScreen" class="min-h-screen flex items-center justify-center login-container">
        <div class="max-w-md w-full mx-4">
            <div class="bg-white rounded-2xl shadow-2xl p-8">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-white text-2xl">ğŸ”</span>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-900">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
                    <p class="text-gray-600 mt-2">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙˆØª</p>
                </div>
                
                <form id="loginForm" class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                        <input 
                            type="text" 
                            id="username" 
                            required
                            class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all"
                            placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"
                        >
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <input 
                            type="password" 
                            id="password" 
                            required
                            class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all"
                            placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"
                        >
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <label class="flex items-center">
                            <input type="checkbox" id="rememberMe" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="mr-2 text-sm text-gray-600">ØªØ°ÙƒØ±Ù†ÙŠ</span>
                        </label>
                        <button type="button" onclick="showForgotPasswordModal()" class="text-sm text-blue-600 hover:text-blue-800">Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ</button>
                    </div>
                    
                    <button 
                        type="submit"
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 transform hover:scale-105"
                    >
                        ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal - ØªÙ… Ù†Ù‚Ù„Ù‡ Ø®Ø§Ø±Ø¬ Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div id="forgotPasswordModal" class="fixed inset-0 bg-black bg-opacity-50 modal hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4">
            <div class="px-6 py-4 border-b">
                <h3 class="text-lg font-semibold text-gray-900">Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h3>
            </div>
            <div class="p-6">
                <div class="space-y-4">
                    <div>
                        <p class="text-sm text-gray-600 mb-4">Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø¬Ø¯ÙŠØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…Ø³Ø¬Ù„</p>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                        <input type="email" id="forgotEmail" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" value="chartgain2019@gmail.com">
                    </div>
                </div>
            </div>
            <div class="px-6 py-4 border-t flex justify-end space-x-3 space-x-reverse">
                <button onclick="hideForgotPasswordModal()" class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">Ø¥Ù„ØºØ§Ø¡</button>
                <button onclick="sendNewPassword()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">Ø¥Ø±Ø³Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</button>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="hidden">
        <!-- Header -->
        <header class="bg-white shadow-lg border-b">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center py-4">
                    <div class="flex items-center space-x-4 space-x-reverse">
                        <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center">
                            <span class="text-white text-xl">âš™ï¸</span>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¨ÙˆØª</h1>
                            <p class="text-gray-600">Ø¥Ø¯Ø§Ø±Ø© Ø®Ø¯Ù…Ø§Øª Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4 space-x-reverse">
                        <div class="text-sm text-gray-600">
                            <span id="adminName" class="font-medium">Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø§Ù„Ù…Ø´Ø±Ù</span>
                        </div>
                        <button onclick="exportData()" class="bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg transition-colors">
                            ğŸ“¤ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                        </button>
                        <button onclick="importData()" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors">
                            ğŸ“¥ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                        </button>
                        <button onclick="logout()" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 space-x-reverse">
                            <span>ğŸšª</span>
                            <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span>
                        </button>
                        <button onclick="saveChanges()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors">
                            ğŸ’¾ Ø­ÙØ¸ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…
                        </button>
                        <button onclick="loadDataFromServer()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                            ğŸ”„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                <!-- Sidebar -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-lg font-semibold text-gray-900 mb-4">Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</h2>
                        <div class="space-y-2" id="servicesList">
                            <button data-service="schedule" class="service-btn w-full text-right p-3 rounded-lg bg-purple-50 hover:bg-purple-100 text-purple-800 transition-colors border border-transparent">
                                ğŸ“… Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ
                            </button>
                            <button data-service="homework" class="service-btn w-full text-right p-3 rounded-lg bg-red-50 hover:bg-red-100 text-red-800 transition-colors border border-transparent">
                                ğŸ“ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª
                            </button>
                            <button data-service="ai" class="service-btn w-full text-right p-3 rounded-lg bg-cyan-50 hover:bg-cyan-100 text-cyan-800 transition-colors border border-transparent">
                                ğŸ¤– Ø±Ø¨ÙˆØª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
                            </button>
                            <button data-service="broadcast" class="service-btn w-full text-right p-3 rounded-lg bg-green-50 hover:bg-green-100 text-green-800 transition-colors border border-transparent">
                                ğŸ“¢ Ø§Ù„Ø¨Ø±ÙˆÙƒØ§Ø³Øª
                            </button>
                            <button data-service="programs" class="service-btn w-full text-right p-3 rounded-lg bg-orange-50 hover:bg-orange-100 text-orange-800 transition-colors border border-transparent">
                                ğŸ† Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ ÙˆØ§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª
                            </button>
                            <button data-service="files" class="service-btn w-full text-right p-3 rounded-lg bg-blue-50 hover:bg-blue-100 text-blue-800 transition-colors border border-transparent">
                                ğŸ“ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±Ø³Ù„Ø©
                            </button>
                            <button data-service="exams" class="service-btn w-full text-right p-3 rounded-lg bg-pink-50 hover:bg-pink-100 text-pink-800 transition-colors border border-transparent">
                                ğŸ“‹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
                            </button>
                            <button data-service="contact" class="service-btn w-full text-right p-3 rounded-lg bg-indigo-50 hover:bg-indigo-100 text-indigo-800 transition-colors border border-transparent">
                                ğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Main Content -->
                <div class="lg:col-span-3">
                    <div class="bg-white rounded-lg shadow-md">
                        <!-- Service Header -->
                        <div class="border-b px-6 py-4">
                            <div class="flex justify-between items-center">
                                <div>
                                    <h2 id="serviceTitle" class="text-xl font-semibold text-gray-900">Ø§Ø®ØªØ± Ø®Ø¯Ù…Ø© Ù„Ù„ØªØ­Ø±ÙŠØ±</h2>
                                    <p id="serviceDescription" class="text-gray-600">Ù‚Ù… Ø¨ØªØ­Ø¯ÙŠØ¯ Ø®Ø¯Ù…Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©</p>
                                </div>
                                <button id="addSectionBtn" onclick="showAddSectionModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors hidden">
                                    â• Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯
                                </button>
                            </div>
                        </div>

                        <!-- Service Content -->
                        <div id="serviceContent" class="p-6">
                            <div class="text-center py-12">
                                <div class="text-6xl mb-4">ğŸ“‹</div>
                                <h3 class="text-lg font-medium text-gray-900 mb-2">Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø®Ø¯Ù…Ø©</h3>
                                <p class="text-gray-600">Ø§Ø®ØªØ± Ø®Ø¯Ù…Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø±ÙŠØ±</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Section Modal -->
        <div id="addSectionModal" class="fixed inset-0 bg-black bg-opacity-50 modal hidden items-center justify-center z-50">
            <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4">
                <div class="px-6 py-4 border-b">
                    <h3 class="text-lg font-semibold text-gray-900" id="sectionModalTitle">Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯</h3>
                </div>
                <div class="p-6">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…</label>
                            <input type="text" id="sectionName" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ÙˆØµÙ Ø§Ù„Ù‚Ø³Ù…</label>
                            <textarea id="sectionDescription" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" rows="3" placeholder="ÙˆØµÙ Ù…Ø®ØªØµØ± Ù„Ù„Ù‚Ø³Ù…"></textarea>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</label>
                            <select id="sectionType" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500">
                                <option value="text">Ù†Øµ</option>
                                <option value="files">Ù…Ù„ÙØ§Øª</option>
                                <option value="links">Ø±ÙˆØ§Ø¨Ø·</option>
                                <option value="mixed">Ù…Ø®ØªÙ„Ø·</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="px-6 py-4 border-t flex justify-end space-x-3 space-x-reverse">
                    <button onclick="hideAddSectionModal()" class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">Ø¥Ù„ØºØ§Ø¡</button>
                    <button onclick="addOrUpdateSection()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors" id="sectionModalButton">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø³Ù…</button>
                </div>
            </div>
        </div>

        <!-- Add Content Modal -->
        <div id="addContentModal" class="fixed inset-0 bg-black bg-opacity-50 modal hidden items-center justify-center z-50">
            <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4">
                <div class="px-6 py-4 border-b">
                    <h3 class="text-lg font-semibold text-gray-900" id="contentModalTitle">Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰</h3>
                </div>
                <div class="p-6">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</label>
                            <select id="contentType" onchange="toggleContentFields()" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500">
                                <option value="text">Ù†Øµ</option>
                                <option value="file">Ù…Ù„Ù</option>
                                <option value="link">Ø±Ø§Ø¨Ø·</option>
                                <option value="image">ØµÙˆØ±Ø©</option>
                                <option value="pdf">Ù…Ù„Ù PDF</option>
                            </select>
                        </div>
                        
                        <!-- Text Content -->
                        <div id="textContent" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
                                <input type="text" id="textTitle" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ù„Ù…Ø­ØªÙˆÙ‰</label>
                                <textarea id="textBody" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" rows="4" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù‡Ù†Ø§"></textarea>
                            </div>
                        </div>

                        <!-- File Content -->
                        <div id="fileContent" class="space-y-4 hidden">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù</label>
                                <input type="text" id="fileName" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="Ù…Ø«Ø§Ù„: Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª.docx">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù</label>
                                <div class="upload-area border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer" onclick="document.getElementById('fileUpload').click()" ondrop="handleFileDrop(event, 'file')" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                                    <input type="file" id="fileUpload" class="hidden" onchange="handleFileUpload(event, 'file')">
                                    <div class="text-4xl mb-2">ğŸ“</div>
                                    <button type="button" class="text-blue-600 hover:text-blue-800 font-medium">
                                        Ø§Ù†Ù‚Ø± Ù„Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø£Ùˆ Ø§Ø³Ø­Ø¨Ù‡ Ù‡Ù†Ø§
                                    </button>
                                    <p class="text-sm text-gray-500 mt-2">ÙŠØ¯Ø¹Ù…: Word, Excel, PowerPoint, ZIP, etc.</p>
                                    <p class="text-xs text-gray-400 mt-1">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰: 10MB</p>
                                    <div id="fileInfo" class="mt-3 text-sm text-green-600 hidden"></div>
                                    <div id="fileProgress" class="mt-2 hidden">
                                        <div class="bg-gray-200 rounded-full h-2">
                                            <div id="fileProgressBar" class="bg-green-600 h-2 rounded-full progress-bar" style="width: 0%"></div>
                                        </div>
                                        <p id="fileProgressText" class="text-xs text-gray-600 mt-1">0%</p>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">ÙˆØµÙ Ø§Ù„Ù…Ù„Ù</label>
                                <input type="text" id="fileDescription" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="ÙˆØµÙ Ù…Ø®ØªØµØ± Ù„Ù„Ù…Ù„Ù">
                            </div>
                        </div>

                        <!-- Image Content -->
                        <div id="imageContent" class="space-y-4 hidden">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙˆØ±Ø©</label>
                                <input type="text" id="imageTitle" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="Ù…Ø«Ø§Ù„: ØµÙˆØ±Ø© Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©</label>
                                <div class="upload-area border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer" onclick="document.getElementById('imageUpload').click()" ondrop="handleFileDrop(event, 'image')" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                                    <input type="file" id="imageUpload" class="hidden" accept="image/*" onchange="handleFileUpload(event, 'image')">
                                    <div class="text-4xl mb-2">ğŸ–¼ï¸</div>
                                    <button type="button" class="text-blue-600 hover:text-blue-800 font-medium">
                                        Ø§Ù†Ù‚Ø± Ù„Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ø£Ùˆ Ø§Ø³Ø­Ø¨Ù‡Ø§ Ù‡Ù†Ø§
                                    </button>
                                    <p class="text-sm text-gray-500 mt-2">ÙŠØ¯Ø¹Ù…: JPG, PNG, GIF, WebP</p>
                                    <p class="text-xs text-gray-400 mt-1">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰: 5MB</p>
                                    <div id="imagePreview" class="mt-3 hidden">
                                        <img id="imagePreviewImg" class="file-preview mx-auto rounded-lg border">
                                    </div>
                                    <div id="imageInfo" class="mt-2 text-sm text-green-600 hidden"></div>
                                    <div id="imageProgress" class="mt-2 hidden">
                                        <div class="bg-gray-200 rounded-full h-2">
                                            <div id="imageProgressBar" class="bg-green-600 h-2 rounded-full progress-bar" style="width: 0%"></div>
                                        </div>
                                        <p id="imageProgressText" class="text-xs text-gray-600 mt-1">0%</p>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">ÙˆØµÙ Ø§Ù„ØµÙˆØ±Ø©</label>
                                <input type="text" id="imageDescription" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="ÙˆØµÙ Ù…Ø®ØªØµØ± Ù„Ù„ØµÙˆØ±Ø©">
                            </div>
                        </div>

                        <!-- PDF Content -->
                        <div id="pdfContent" class="space-y-4 hidden">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ø³Ù… Ù…Ù„Ù PDF</label>
                                <input type="text" id="pdfTitle" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="Ù…Ø«Ø§Ù„: Ø¯Ù„ÙŠÙ„ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ø±ÙØ¹ Ù…Ù„Ù PDF</label>
                                <div class="upload-area border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer" onclick="document.getElementById('pdfUpload').click()" ondrop="handleFileDrop(event, 'pdf')" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                                    <input type="file" id="pdfUpload" class="hidden" accept=".pdf" onchange="handleFileUpload(event, 'pdf')">
                                    <div class="text-4xl mb-2">ğŸ“„</div>
                                    <button type="button" class="text-blue-600 hover:text-blue-800 font-medium">
                                        Ø§Ù†Ù‚Ø± Ù„Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù PDF Ø£Ùˆ Ø§Ø³Ø­Ø¨Ù‡ Ù‡Ù†Ø§
                                    </button>
                                    <p class="text-sm text-gray-500 mt-2">ÙŠØ¯Ø¹Ù…: Ù…Ù„ÙØ§Øª PDF ÙÙ‚Ø·</p>
                                    <p class="text-xs text-gray-400 mt-1">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰: 20MB</p>
                                    <div id="pdfInfo" class="mt-3 text-sm text-green-600 hidden"></div>
                                    <div id="pdfProgress" class="mt-2 hidden">
                                        <div class="bg-gray-200 rounded-full h-2">
                                            <div id="pdfProgressBar" class="bg-green-600 h-2 rounded-full progress-bar" style="width: 0%"></div>
                                        </div>
                                        <p id="pdfProgressText" class="text-xs text-gray-600 mt-1">0%</p>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">ÙˆØµÙ Ù…Ù„Ù PDF</label>
                                <input type="text" id="pdfDescription" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="ÙˆØµÙ Ù…Ø®ØªØµØ± Ù„Ù…Ù„Ù PDF">
                            </div>
                        </div>

                        <!-- Link Content -->
                        <div id="linkContent" class="space-y-4 hidden">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø§Ø¨Ø·</label>
                                <input type="text" id="linkTitle" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="Ù…Ø«Ø§Ù„: Ù…ÙˆÙ‚Ø¹ ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ù„Ø±Ø§Ø¨Ø·</label>
                                <input type="url" id="linkUrl" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="https://example.com">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">ÙˆØµÙ Ø§Ù„Ø±Ø§Ø¨Ø·</label>
                                <input type="text" id="linkDescription" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="ÙˆØµÙ Ù…Ø®ØªØµØ± Ù„Ù„Ø±Ø§Ø¨Ø·">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="px-6 py-4 border-t flex justify-end space-x-3 space-x-reverse">
                    <button onclick="hideAddContentModal()" class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">Ø¥Ù„ØºØ§Ø¡</button>
                    <button onclick="addOrUpdateContent()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors" id="contentModalButton">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„
        const ADMIN_CREDENTIALS = {
            username: "chartgain2019@gmail.com",
            password: "sa123456$"
        };

        // ğŸ”¥ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ­ÙŠØ¯: ØªØºÙŠÙŠØ± Ø±Ø§Ø¨Ø· API
        const API_BASE = '/api';

        // Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        let currentService = null;
        let currentSection = null;
        let services = {};
        let editingSectionIndex = null;
        let editingContentIndex = null;
        let editingContentSectionId = null;

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
        function initializeDefaultServices() {
            services = {
                schedule: { name: 'Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ', sections: [] },
                homework: { name: 'Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª', sections: [] },
                ai: { name: 'Ø±Ø¨ÙˆØª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ', sections: [] },
                broadcast: { name: 'Ø§Ù„Ø¨Ø±ÙˆÙƒØ§Ø³Øª', sections: [] },
                programs: { name: 'Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ ÙˆØ§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª', sections: [] },
                files: { name: 'Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±Ø³Ù„Ø©', sections: [] },
                exams: { name: 'Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª', sections: [] },
                contact: { name: 'ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§', sections: [] }
            };
        }

        // Ø¯ÙˆØ§Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø®Ø§Ø¯Ù…
        async function saveChanges() {
            try {
                const response = await fetch(`${API_BASE}/data`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ services })
                });

                const result = await response.json();
                
                if (result.success) {
                    showNotification('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                } else {
                    showNotification('âŒ ÙØ´Ù„ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'error');
                }
            } catch (error) {
                console.error('Error saving data:', error);
                showNotification('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…', 'error');
            }
        }

        async function loadDataFromServer() {
            try {
                const response = await fetch(`${API_BASE}/data`);
                const data = await response.json();
                
                if (data.services && Object.keys(data.services).length > 0) {
                    services = data.services;
                    showNotification('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…', 'success');
                } else {
                    initializeDefaultServices();
                    showNotification('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©', 'info');
                }
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø®Ø¯Ù…Ø© Ù…Ø­Ø¯Ø¯Ø©
                if (currentService) {
                    loadServiceContent(currentService);
                }
            } catch (error) {
                console.error('Error loading data:', error);
                initializeDefaultServices();
                showNotification('âŒ ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©', 'error');
            }
        }

        async function uploadFile(file, type) {
            try {
                const formData = new FormData();
                formData.append('file', file);

                const response = await fetch(`${API_BASE}/upload`, {
                    method: 'POST',
                    body: formData
                });

                const result = await response.json();
                return result;
            } catch (error) {
                console.error('Error uploading file:', error);
                return { success: false, error: 'ÙØ´Ù„ ÙÙŠ Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù' };
            }
        }

        // Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-green-500' : 
                           type === 'error' ? 'bg-red-500' : 'bg-blue-500';
            
            notification.className = `fixed top-4 right-4 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50 fade-in`;
            notification.innerHTML = `
                <div class="flex items-center space-x-2 space-x-reverse">
                    <span>${type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : 'â„¹ï¸'}</span>
                    <span>${message}</span>
                </div>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 4000);
        }

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª
        function selectService(serviceId, element) {
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø®Ø¯Ù…Ø©
            if (!services[serviceId]) {
                showNotification('âŒ Ø§Ù„Ø®Ø¯Ù…Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©', 'error');
                return;
            }

            currentService = serviceId;
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙØ¹ÙŠÙ„ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            document.querySelectorAll('.service-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-blue-100', 'text-blue-800', 'border-blue-300');
            });
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø± Ø§Ù„Ù…Ø®ØªØ§Ø±
            element.classList.add('active', 'bg-blue-100', 'text-blue-800', 'border-blue-300');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
            document.getElementById('serviceTitle').textContent = services[serviceId].name;
            document.getElementById('serviceDescription').textContent = `Ø¥Ø¯Ø§Ø±Ø© Ù…Ø­ØªÙˆÙ‰ ${services[serviceId].name}`;
            document.getElementById('addSectionBtn').classList.remove('hidden');
            
            // ØªØ­Ù…ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø®Ø¯Ù…Ø©
            loadServiceContent(serviceId);
        }

        function loadServiceContent(serviceId) {
            const content = document.getElementById('serviceContent');
            const service = services[serviceId];
            
            if (!service.sections || service.sections.length === 0) {
                content.innerHTML = `
                    <div class="text-center py-12">
                        <div class="text-6xl mb-4">ğŸ“‹</div>
                        <h3 class="text-lg font-medium text-gray-900 mb-2">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù‚Ø³Ø§Ù…</h3>
                        <p class="text-gray-600 mb-4">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø©</p>
                        <button onclick="showAddSectionModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                            â• Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯
                        </button>
                    </div>
                `;
                return;
            }
            
            let html = '<div class="space-y-6">';
            service.sections.forEach((section, index) => {
                html += `
                    <div class="border border-gray-200 rounded-lg">
                        <div class="bg-gray-50 px-4 py-3 border-b flex justify-between items-center">
                            <div>
                                <h3 class="font-medium text-gray-900">${section.name}</h3>
                                <p class="text-sm text-gray-600">${section.description}</p>
                            </div>
                            <div class="flex space-x-2 space-x-reverse">
                                <button onclick="addContentToSection(${index})" class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors">
                                    â• Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰
                                </button>
                                <button onclick="editSection(${index})" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors">
                                    âœï¸ ØªØ¹Ø¯ÙŠÙ„
                                </button>
                                <button onclick="deleteSection(${index})" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm transition-colors">
                                    ğŸ—‘ï¸ Ø­Ø°Ù
                                </button>
                            </div>
                        </div>
                        <div class="p-4">
                            ${renderSectionContent(section, index)}
                        </div>
                    </div>
                `;
            });
            html += '</div>';
            
            content.innerHTML = html;
        }

        function renderSectionContent(section, sectionIndex) {
            if (!section.content || section.content.length === 0) {
                return '<p class="text-gray-500 text-center py-4">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø­ØªÙˆÙ‰ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…</p>';
            }
            
            let html = '<div class="space-y-3">';
            section.content.forEach((item, index) => {
                if (item.type === 'text') {
                    html += `
                        <div class="bg-blue-50 p-3 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div class="flex-1">
                                    <h4 class="font-medium text-blue-900">${item.title}</h4>
                                    <p class="text-blue-800 mt-1 whitespace-pre-line">${item.content}</p>
                                </div>
                                <div class="flex space-x-2 space-x-reverse">
                                    <button onclick="editContent('${section.id}', ${index})" class="text-blue-600 hover:text-blue-800 text-sm">âœï¸</button>
                                    <button onclick="deleteContent('${section.id}', ${index})" class="text-red-600 hover:text-red-800 text-sm">ğŸ—‘ï¸</button>
                                </div>
                            </div>
                        </div>
                    `;
                } else if (item.type === 'file') {
                    html += `
                        <div class="bg-green-50 p-3 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2 space-x-reverse">
                                        <span class="text-green-600">ğŸ“</span>
                                        <h4 class="font-medium text-green-900">${item.name}</h4>
                                    </div>
                                    <p class="text-green-800 text-sm mt-1">${item.description}</p>
                                    <p class="text-green-600 text-xs mt-1">Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù: ${item.size || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</p>
                                    ${item.fileUrl ? `<a href="${item.fileUrl}" target="_blank" class="text-green-600 text-xs mt-1 hover:underline">Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„</a>` : ''}
                                </div>
                                <div class="flex space-x-2 space-x-reverse">
                                    <button onclick="editContent('${section.id}', ${index})" class="text-blue-600 hover:text-blue-800 text-sm">âœï¸</button>
                                    <button onclick="deleteContent('${section.id}', ${index})" class="text-red-600 hover:text-red-800 text-sm">ğŸ—‘ï¸</button>
                                </div>
                            </div>
                        </div>
                    `;
                } else if (item.type === 'image') {
                    html += `
                        <div class="bg-yellow-50 p-3 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2 space-x-reverse mb-2">
                                        <span class="text-yellow-600">ğŸ–¼ï¸</span>
                                        <h4 class="font-medium text-yellow-900">${item.title}</h4>
                                    </div>
                                    ${item.fileUrl ? `
                                        <img src="${item.fileUrl}" alt="${item.description}" class="file-preview rounded-lg border mb-2">
                                    ` : ''}
                                    <p class="text-yellow-800 text-sm mt-1">${item.description}</p>
                                    <p class="text-yellow-600 text-xs mt-1">${item.size ? `Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø©: ${item.size}` : ''}</p>
                                </div>
                                <div class="flex space-x-2 space-x-reverse">
                                    <button onclick="editContent('${section.id}', ${index})" class="text-blue-600 hover:text-blue-800 text-sm">âœï¸</button>
                                    <button onclick="deleteContent('${section.id}', ${index})" class="text-red-600 hover:text-red-800 text-sm">ğŸ—‘ï¸</button>
                                </div>
                            </div>
                        </div>
                    `;
                } else if (item.type === 'pdf') {
                    html += `
                        <div class="bg-red-50 p-3 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2 space-x-reverse">
                                        <span class="text-red-600">ğŸ“„</span>
                                        <h4 class="font-medium text-red-900">${item.title}</h4>
                                    </div>
                                    <p class="text-red-800 text-sm mt-1">${item.description}</p>
                                    <p class="text-red-600 text-xs mt-1">Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù: ${item.size || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</p>
                                    ${item.fileUrl ? `<a href="${item.fileUrl}" target="_blank" class="text-red-600 text-xs mt-1 hover:underline">ÙØªØ­ Ù…Ù„Ù PDF</a>` : ''}
                                </div>
                                <div class="flex space-x-2 space-x-reverse">
                                    <button onclick="editContent('${section.id}', ${index})" class="text-blue-600 hover:text-blue-800 text-sm">âœï¸</button>
                                    <button onclick="deleteContent('${section.id}', ${index})" class="text-red-600 hover:text-red-800 text-sm">ğŸ—‘ï¸</button>
                                </div>
                            </div>
                        </div>
                    `;
                } else if (item.type === 'link') {
                    html += `
                        <div class="bg-purple-50 p-3 rounded-lg">
                            <div class="flex justify-between items-start">
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2 space-x-reverse">
                                        <span class="text-purple-600">ğŸ”—</span>
                                        <h4 class="font-medium text-purple-900">${item.title}</h4>
                                    </div>
                                    <p class="text-purple-800 text-sm mt-1">${item.description}</p>
                                    <a href="${item.url}" target="_blank" class="text-purple-600 text-xs mt-1 hover:underline">${item.url}</a>
                                </div>
                                <div class="flex space-x-2 space-x-reverse">
                                    <button onclick="editContent('${section.id}', ${index})" class="text-blue-600 hover:text-blue-800 text-sm">âœï¸</button>
                                    <button onclick="deleteContent('${section.id}', ${index})" class="text-red-600 hover:text-red-800 text-sm">ğŸ—‘ï¸</button>
                                </div>
                            </div>
                        </div>
                    `;
                }
            });
            html += '</div>';
            
            return html;
        }

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        function showAddSectionModal() {
            editingSectionIndex = null;
            document.getElementById('sectionModalTitle').textContent = 'Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯';
            document.getElementById('sectionModalButton').textContent = 'Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø³Ù…';
            document.getElementById('sectionName').value = '';
            document.getElementById('sectionDescription').value = '';
            document.getElementById('sectionType').value = 'text';
            document.getElementById('addSectionModal').classList.remove('hidden');
            document.getElementById('addSectionModal').classList.add('flex');
        }

        function hideAddSectionModal() {
            document.getElementById('addSectionModal').classList.add('hidden');
            document.getElementById('addSectionModal').classList.remove('flex');
        }

        function addOrUpdateSection() {
            const name = document.getElementById('sectionName').value.trim();
            const description = document.getElementById('sectionDescription').value.trim();
            const type = document.getElementById('sectionType').value;
            
            if (!name) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…');
                return;
            }
            
            if (editingSectionIndex !== null) {
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯
                services[currentService].sections[editingSectionIndex].name = name;
                services[currentService].sections[editingSectionIndex].description = description;
                services[currentService].sections[editingSectionIndex].type = type;
            } else {
                // Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯
                const section = {
                    id: Date.now().toString(),
                    name: name,
                    description: description || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ',
                    type: type,
                    content: []
                };
                
                services[currentService].sections.push(section);
            }
            
            hideAddSectionModal();
            loadServiceContent(currentService);
            saveChanges();
        }

        function editSection(index) {
            editingSectionIndex = index;
            const section = services[currentService].sections[index];
            
            document.getElementById('sectionModalTitle').textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‚Ø³Ù…';
            document.getElementById('sectionModalButton').textContent = 'ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø³Ù…';
            document.getElementById('sectionName').value = section.name;
            document.getElementById('sectionDescription').value = section.description;
            document.getElementById('sectionType').value = section.type;
            
            document.getElementById('addSectionModal').classList.remove('hidden');
            document.getElementById('addSectionModal').classList.add('flex');
        }

        function deleteSection(index) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…ØŸ')) {
                services[currentService].sections.splice(index, 1);
                loadServiceContent(currentService);
                saveChanges();
            }
        }

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰
        function addContentToSection(sectionIndex) {
            currentSection = sectionIndex;
            editingContentIndex = null;
            editingContentSectionId = null;
            document.getElementById('contentModalTitle').textContent = 'Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰';
            document.getElementById('contentModalButton').textContent = 'Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰';
            resetContentForm();
            document.getElementById('addContentModal').classList.remove('hidden');
            document.getElementById('addContentModal').classList.add('flex');
        }

        function hideAddContentModal() {
            document.getElementById('addContentModal').classList.add('hidden');
            document.getElementById('addContentModal').classList.remove('flex');
            resetContentForm();
        }

        function resetContentForm() {
            document.getElementById('textTitle').value = '';
            document.getElementById('textBody').value = '';
            document.getElementById('fileName').value = '';
            document.getElementById('fileDescription').value = '';
            document.getElementById('imageTitle').value = '';
            document.getElementById('imageDescription').value = '';
            document.getElementById('pdfTitle').value = '';
            document.getElementById('pdfDescription').value = '';
            document.getElementById('linkTitle').value = '';
            document.getElementById('linkUrl').value = '';
            document.getElementById('linkDescription').value = '';
            document.getElementById('contentType').value = 'text';
            
            document.getElementById('imagePreview').classList.add('hidden');
            document.getElementById('fileProgress').classList.add('hidden');
            document.getElementById('imageProgress').classList.add('hidden');
            document.getElementById('pdfProgress').classList.add('hidden');
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
            document.getElementById('fileUpload').value = '';
            document.getElementById('imageUpload').value = '';
            document.getElementById('pdfUpload').value = '';
            
            toggleContentFields();
        }

        function toggleContentFields() {
            const type = document.getElementById('contentType').value;
            
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹
            const contentTypes = ['text', 'file', 'image', 'pdf', 'link'];
            contentTypes.forEach(contentType => {
                const element = document.getElementById(contentType + 'Content');
                if (element) {
                    element.classList.add('hidden');
                }
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙÙ‚Ø·
            const targetElement = document.getElementById(type + 'Content');
            if (targetElement) {
                targetElement.classList.remove('hidden');
            }
        }

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª
        function handleDragOver(event) {
            event.preventDefault();
            event.currentTarget.classList.add('dragover');
        }

        function handleDragLeave(event) {
            event.preventDefault();
            event.currentTarget.classList.remove('dragover');
        }

        function handleFileDrop(event, type) {
            event.preventDefault();
            event.currentTarget.classList.remove('dragover');
            
            const files = event.dataTransfer.files;
            if (files.length > 0) {
                handleFileSelect(files[0], type);
            }
        }

        function handleFileSelect(file, type) {
            const inputId = type + 'Upload';
            const inputElement = document.getElementById(inputId);
            
            if (inputElement) {
                const dataTransfer = new DataTransfer();
                dataTransfer.items.add(file);
                inputElement.files = dataTransfer.files;
                
                const changeEvent = new Event('change', { bubbles: true });
                inputElement.dispatchEvent(changeEvent);
            }
        }

        // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù Ù…Ù† Ø§Ù…ØªØ¯Ø§Ø¯Ù‡
        function detectFileType(file) {
            const extension = file.name.split('.').pop().toLowerCase();
            const imageExtensions = ['jpg', 'jpeg', 'png', 'gif', 'webp', 'bmp', 'svg'];
            const pdfExtensions = ['pdf'];
            
            if (imageExtensions.includes(extension)) {
                return 'image';
            } else if (pdfExtensions.includes(extension)) {
                return 'pdf';
            } else {
                return 'file';
            }
        }

        async function handleFileUpload(event, type) {
            const file = event.target.files[0];
            if (!file) return;

            const fileSizeMB = (file.size / 1024 / 1024).toFixed(2);
            
            // Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù…Ù† Ø§Ù…ØªØ¯Ø§Ø¯Ù‡
            const detectedType = detectFileType(file);
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…ÙƒØªØ´Ù ÙŠØ®ØªÙ„Ù Ø¹Ù† Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠØŒ Ù‚Ù… Ø¨ØªØºÙŠÙŠØ± Ø§Ù„Ù†ÙˆØ¹
            if (detectedType !== type) {
                type = detectedType;
                document.getElementById('contentType').value = type;
                toggleContentFields();
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
            if (type === 'image' && fileSizeMB > 5) {
                alert('âŒ Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹! Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 5MB');
                return;
            }
            if (type === 'pdf' && fileSizeMB > 20) {
                alert('âŒ Ø­Ø¬Ù… Ù…Ù„Ù PDF ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹! Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 20MB');
                return;
            }
            if (type === 'file' && fileSizeMB > 10) {
                alert('âŒ Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹! Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 10MB');
                return;
            }
            
            // ØªØ¹Ø¨Ø¦Ø© Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ù„ÙØ§Øª
            const titleInput = document.getElementById(`${type}Title`);
            const fileNameInput = document.getElementById(`${type}Name`);
            
            // Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙˆØ¹
            let targetInput = titleInput || fileNameInput;
            
            if (targetInput && !targetInput.value.trim()) {
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø§Ù…ØªØ¯Ø§Ø¯ Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù
                const fileNameWithoutExtension = file.name.replace(/\.[^/.]+$/, "");
                targetInput.value = fileNameWithoutExtension;
            }
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø±ÙØ¹
            simulateUpload(file, type);
            
            // Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù„Ù„Ø®Ø§Ø¯Ù…
            const uploadResult = await uploadFile(file, type);
            
            if (uploadResult.success) {
                const infoElement = document.getElementById(`${type}Info`);
                if (infoElement) {
                    infoElement.innerHTML = `âœ… ØªÙ… Ø±ÙØ¹: <strong>${file.name}</strong> (${fileSizeMB} MB)`;
                    infoElement.classList.remove('hidden');
                }
                
                // Ø­ÙØ¸ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù„Ù
                const uploadInput = document.getElementById(`${type}Upload`);
                if (uploadInput) {
                    uploadInput.setAttribute('data-file-url', uploadResult.url);
                }
            }
            
            // Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©
            if (type === 'image') {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const previewImg = document.getElementById('imagePreviewImg');
                    const previewContainer = document.getElementById('imagePreview');
                    if (previewImg && previewContainer) {
                        previewImg.src = e.target.result;
                        previewContainer.classList.remove('hidden');
                    }
                };
                reader.readAsDataURL(file);
            }
        }

        function simulateUpload(file, type) {
            const progressBar = document.getElementById(type + 'ProgressBar');
            const progressText = document.getElementById(type + 'ProgressText');
            const progressContainer = document.getElementById(type + 'Progress');
            const infoElement = document.getElementById(type + 'Info');
            
            if (progressContainer) progressContainer.classList.remove('hidden');
            if (infoElement) {
                infoElement.classList.remove('hidden');
                infoElement.textContent = `Ø¬Ø§Ø±ÙŠ Ø±ÙØ¹: ${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)`;
            }
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                }
                
                if (progressBar) progressBar.style.width = progress + '%';
                if (progressText) progressText.textContent = Math.round(progress) + '%';
            }, 200);
        }

        function addOrUpdateContent() {
            const type = document.getElementById('contentType').value;
            let content = {};
            
            if (type === 'text') {
                const title = document.getElementById('textTitle').value.trim();
                const body = document.getElementById('textBody').value.trim();
                
                if (!title || !body) {
                    alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰');
                    return;
                }
                
                content = {
                    type: 'text',
                    title: title,
                    content: body
                };
            } else if (type === 'file') {
                const name = document.getElementById('fileName').value.trim();
                const description = document.getElementById('fileDescription').value.trim();
                const fileInput = document.getElementById('fileUpload');
                const file = fileInput.files[0];
                
                if (!name) {
                    alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù');
                    return;
                }
                
                content = {
                    type: 'file',
                    name: name,
                    description: description || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ',
                    size: file ? (file.size / 1024 / 1024).toFixed(2) + ' MB' : 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                    fileUrl: fileInput ? fileInput.getAttribute('data-file-url') || null : null
                };
            } else if (type === 'image') {
                const title = document.getElementById('imageTitle').value.trim();
                const description = document.getElementById('imageDescription').value.trim();
                const imageInput = document.getElementById('imageUpload');
                const imageFile = imageInput.files[0];
                
                if (!title) {
                    alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙˆØ±Ø©');
                    return;
                }
                
                content = {
                    type: 'image',
                    title: title,
                    description: description || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ',
                    size: imageFile ? (imageFile.size / 1024 / 1024).toFixed(2) + ' MB' : 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                    fileUrl: imageInput ? imageInput.getAttribute('data-file-url') || null : null
                };
            } else if (type === 'pdf') {
                const title = document.getElementById('pdfTitle').value.trim();
                const description = document.getElementById('pdfDescription').value.trim();
                const pdfInput = document.getElementById('pdfUpload');
                const pdfFile = pdfInput.files[0];
                
                if (!title) {
                    alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ù…Ù„Ù PDF');
                    return;
                }
                
                content = {
                    type: 'pdf',
                    title: title,
                    description: description || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ',
                    size: pdfFile ? (pdfFile.size / 1024 / 1024).toFixed(2) + ' MB' : 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                    fileUrl: pdfInput ? pdfInput.getAttribute('data-file-url') || null : null
                };
            } else if (type === 'link') {
                const title = document.getElementById('linkTitle').value.trim();
                const url = document.getElementById('linkUrl').value.trim();
                const description = document.getElementById('linkDescription').value.trim();
                
                if (!title || !url) {
                    alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆØ§Ù„Ø±Ø§Ø¨Ø·');
                    return;
                }
                
                content = {
                    type: 'link',
                    title: title,
                    url: url,
                    description: description || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ'
                };
            }
            
            if (editingContentSectionId !== null && editingContentIndex !== null) {
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯
                const sectionIndex = services[currentService].sections.findIndex(s => s.id === editingContentSectionId);
                if (sectionIndex !== -1) {
                    services[currentService].sections[sectionIndex].content[editingContentIndex] = content;
                }
            } else {
                // Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯
                services[currentService].sections[currentSection].content.push(content);
            }
            
            hideAddContentModal();
            loadServiceContent(currentService);
            saveChanges();
        }

        function editContent(sectionId, contentIndex) {
            editingContentSectionId = sectionId;
            editingContentIndex = contentIndex;
            const sectionIndex = services[currentService].sections.findIndex(s => s.id === sectionId);
            const content = services[currentService].sections[sectionIndex].content[contentIndex];
            
            document.getElementById('contentModalTitle').textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰';
            document.getElementById('contentModalButton').textContent = 'ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø­ØªÙˆÙ‰';
            
            // ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ
            document.getElementById('contentType').value = content.type;
            toggleContentFields();
            
            if (content.type === 'text') {
                document.getElementById('textTitle').value = content.title;
                document.getElementById('textBody').value = content.content;
            } else if (content.type === 'file') {
                document.getElementById('fileName').value = content.name;
                document.getElementById('fileDescription').value = content.description;
            } else if (content.type === 'image') {
                document.getElementById('imageTitle').value = content.title;
                document.getElementById('imageDescription').value = content.description;
                if (content.fileUrl) {
                    document.getElementById('imagePreviewImg').src = content.fileUrl;
                    document.getElementById('imagePreview').classList.remove('hidden');
                }
            } else if (content.type === 'pdf') {
                document.getElementById('pdfTitle').value = content.title;
                document.getElementById('pdfDescription').value = content.description;
            } else if (content.type === 'link') {
                document.getElementById('linkTitle').value = content.title;
                document.getElementById('linkUrl').value = content.url;
                document.getElementById('linkDescription').value = content.description;
            }
            
            document.getElementById('addContentModal').classList.remove('hidden');
            document.getElementById('addContentModal').classList.add('flex');
        }

        function deleteContent(sectionId, contentIndex) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ØŸ')) {
                const sectionIndex = services[currentService].sections.findIndex(s => s.id === sectionId);
                if (sectionIndex !== -1) {
                    services[currentService].sections[sectionIndex].content.splice(contentIndex, 1);
                    loadServiceContent(currentService);
                    saveChanges();
                }
            }
        }

        // Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        function showForgotPasswordModal() {
            document.getElementById('forgotPasswordModal').classList.remove('hidden');
            document.getElementById('forgotPasswordModal').classList.add('flex');
        }

        function hideForgotPasswordModal() {
            document.getElementById('forgotPasswordModal').classList.add('hidden');
            document.getElementById('forgotPasswordModal').classList.remove('flex');
        }

        function sendNewPassword() {
            const email = document.getElementById('forgotEmail').value.trim();
            
            if (email !== "chartgain2019@gmail.com") {
                alert('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± Ù…Ø³Ø¬Ù„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…');
                return;
            }
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø¥Ø±Ø³Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            const newPassword = generateRandomPassword();
            
            // ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ Ù‡Ù†Ø§ ÙŠØ¬Ø¨ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØŒ Ù„ÙƒÙ†Ù†Ø§ Ø³Ù†Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
            alert(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø¬Ø¯ÙŠØ¯Ø© Ø¥Ù„Ù‰ ${email}\nÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©: ${newPassword}\n\nÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø«Ù… ØªØºÙŠÙŠØ±Ù‡Ø§.`);
            
            hideForgotPasswordModal();
        }

        function generateRandomPassword() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*';
            let password = '';
            for (let i = 0; i < 12; i++) {
                password += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return password;
        }

        // ØªØµØ¯ÙŠØ± ÙˆØ§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function exportData() {
            const dataStr = JSON.stringify(services, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `bot-backup-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            showNotification('âœ… ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success');
        }

        function importData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = e => {
                const file = e.target.files[0];
                const reader = new FileReader();
                reader.onload = event => {
                    try {
                        const importedData = JSON.parse(event.target.result);
                        if (importedData && typeof importedData === 'object') {
                            services = importedData;
                            showNotification('âœ… ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success');
                            if (currentService) {
                                loadServiceContent(currentService);
                            }
                            saveChanges();
                        } else {
                            showNotification('âŒ Ù…Ù„Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ§Ù„Ø­', 'error');
                        }
                    } catch (error) {
                        console.error('Error importing data:', error);
                        showNotification('âŒ ÙØ´Ù„ ÙÙŠ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'error');
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
        function checkAuth() {
            const isLoggedIn = localStorage.getItem('adminLoggedIn');
            const username = localStorage.getItem('adminUsername');
            
            if (isLoggedIn === 'true' && username) {
                showDashboard(username);
            }
        }

        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const rememberMe = document.getElementById('rememberMe').checked;
            
            if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
                localStorage.setItem('adminLoggedIn', 'true');
                localStorage.setItem('adminUsername', username);
                if (rememberMe) {
                    localStorage.setItem('rememberMe', 'true');
                }
                
                showDashboard(username);
                loadDataFromServer();
            } else {
                alert('âŒ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
                document.getElementById('password').value = '';
                document.getElementById('password').focus();
            }
        });

        function showDashboard(username) {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            document.getElementById('adminName').textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ${username}`;
        }

        function logout() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
                localStorage.removeItem('adminLoggedIn');
                localStorage.removeItem('adminUsername');
                document.getElementById('dashboard').classList.add('hidden');
                document.getElementById('loginScreen').classList.remove('hidden');
                document.getElementById('loginForm').reset();
            }
        }

        // Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
        document.addEventListener('DOMContentLoaded', function() {
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø£Ø²Ø±Ø§Ø±
            document.querySelectorAll('.service-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const serviceId = this.getAttribute('data-service');
                    selectService(serviceId, this);
                });
            });

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
            checkAuth();
            
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            initializeDefaultServices();
        });
    </script>
</body>
</html>
